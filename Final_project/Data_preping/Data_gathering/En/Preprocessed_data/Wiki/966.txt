transactional ntfs abbreviated txf is a component introduced in windows vista and present in later versions of the microsoft windows operating system that brings the concept of atomic transactions to the ntfs file system allowing windows application developers to write file output routines that are guaranteed to either succeed completely or to fail completely
major operating system components including system restore task scheduler and windows update rely on txf for stability
during the development of windows vista winfs also relied on txf for storing files
due to its complexity and various nuances which developers need to consider as part of application development microsoft has deprecated txf and stated that it may be removed in a future version of windows
microsoft has strongly recommended that developers investigate using the alternatives rather than adopting the transactional ntfs api platform which may not be available in future versions of windows
transactional ntfs allows for files and directories to be created modified renamed and deleted atomically
using transactions ensures correctness of operation in a series of file operations done as a transaction the operation will be committed if all the operations succeed
in case of any failure the entire operation will roll back and fail
transactional ntfs is implemented on top of the kernel transaction manager which is a windows kernel component introduced in windows vista that provides transactioning of objects in the kernel
the ntfs file system already supports journaling of low level operations such as writing a block of data
transactional ntfs expands on this capability to include
atomic operations on a single file a common example of this is saving a file from an application if the application or machine were to crash while writing the file then only part of the file could be written possibly resulting in a corrupted file
this would be a very significant problem if a previous version of the file was being over written as data would likely be lost
atomic operations spanning multiple files if an application needs to update several files at once with a set of changes all the necessary file operations can be performed as a single transaction preventing inconsistent updates in the event of a failure
atomic operations spanning multiple computers performing the same operation on multiple computers is a fairly common administrative task in a corporate network transactional ntfs integrates with the distributed transaction coordinator to ensure that the change is successfully applied to all machines with the exception of read operations using transactional ntfs for transactions on encrypting file system files is not supported in windows vista until service pack and windows server
features new to windows vista
technical features new to windows vistabecause we can a microsoft developer blog that discusses txf both conceptually and in code
kernel transaction manager documentation on the microsoft developer network

